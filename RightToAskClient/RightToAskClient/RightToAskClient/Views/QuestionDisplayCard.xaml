<?xml version="1.0" encoding="UTF-8"?>
<ContentView xmlns="http://xamarin.com/schemas/2014/forms" 
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:xct="http://xamarin.com/schemas/2020/toolkit" 
             xmlns:local="clr-namespace:RightToAskClient"
             xmlns:controls="clr-namespace:RightToAskClient.Controls"
             xmlns:models="clr-namespace:RightToAskClient.Models"
             x:Class="RightToAskClient.Views.QuestionDisplayCard"
             x:DataType="models:Question">
  <ContentView.Content>
        <Frame Style="{StaticResource GreenFrame}" Padding="5" VerticalOptions="FillAndExpand">
            <Grid RowDefinitions="auto,auto,auto,auto,auto" ColumnDefinitions="*,*,*,*,*" Padding="0" Margin="0" BackgroundColor="Transparent" RowSpacing="0" ColumnSpacing="0">
                <Label Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="4" Text="To: Test Answerer" Style="{StaticResource ListViewText}" FontAttributes="Bold"/>
                <!--Flex Layout shows full text but puts everything else off the screen-->
                <!--<FlexLayout Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="4" BackgroundColor="LightPink">
                    <Label Text="{Binding QuestionText}" Style="{StaticResource ListViewText}"/>
                </FlexLayout>-->
                <Label Text="{Binding QuestionText}" Style="{StaticResource ListViewText}" Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="4"/>
                <!--<ImageButton Grid.Row="0" Grid.RowSpan="2" Grid.Column="0" Source="{local:ImageResource RightToAskClient.Images.check_box_48.png}" BackgroundColor="Transparent"/>-->
                <ImageButton Grid.Row="0" Grid.RowSpan="2" Grid.Column="0" WidthRequest="30" HeightRequest="30" VerticalOptions="Start"
                             Source="{local:ImageResource RightToAskClient.Images.pending_48.png}" BackgroundColor="Transparent"/>
                <StackLayout Orientation="Horizontal" Grid.Row="1" Grid.Column="0" Padding="0" Spacing="0" Margin="0">
                    <Image Source="{local:ImageResource RightToAskClient.Images.swipe_left_48.png}" Margin="0" VerticalOptions="Center"/>
                    <Label Text="Swipe to Dismiss" FontSize="Micro" Padding="0" Margin="2,0,0,0" VerticalOptions="Center"/>                    
                </StackLayout>
                <StackLayout Grid.Row="3" Grid.Column="0" Orientation="Horizontal" Spacing="10" Padding="0" Margin="0" BackgroundColor="Transparent" HorizontalOptions="End">
                    <Label Text="{Binding UpVotes}" Style="{StaticResource ListViewTextSmall}" Margin="0" Padding="0" VerticalTextAlignment="End"/>
                    <Label Text="{Binding UpVotes, StringFormat='{0}%'}" Style="{StaticResource ListViewTextSmall}" Margin="0" Padding="0" VerticalTextAlignment="End"/>
                </StackLayout>
                <Label Grid.Row="4" Grid.Column="0" Text="Upvotes" Margin="0" Padding="0" BackgroundColor="Transparent" VerticalTextAlignment="Start" HorizontalTextAlignment="End"/>
                <!--The following button is for the whole background of the section to be clickable, and the buttons for specific interactions are
                    inserted on top of this. ORDER MATTERS-->
                <Button Grid.Row="0" Grid.Column="0" Grid.RowSpan="5" Grid.ColumnSpan="5" Style="{StaticResource TransparentSquareButton}"
                        Command="{Binding QuestionDetailsCommand}" BackgroundColor="Transparent"/>
                <!--<ImageButton Grid.Row="4" Grid.RowSpan="2" Grid.Column="1" Source="{local:ImageResource RightToAskClient.Images.outline_arrow_circle_up_48.png}" 
                             BackgroundColor="Transparent" Command="{Binding UpvoteCommand}" HorizontalOptions="Start" WidthRequest="50"/>-->
                <!--UpVote Button-->
                <ImageButton Grid.Row="3" Grid.RowSpan="2" Grid.Column="1" Source="{local:ImageResource RightToAskClient.Images.thumb_up_48.png}" 
                             IsVisible="{Binding AlreadyUpvoted, Converter={StaticResource Key=cnvInvert}}" Padding="5"
                             BackgroundColor="Transparent" Command="{Binding UpvoteCommand}" HorizontalOptions="Start" WidthRequest="50"/>
                <ImageButton Grid.Row="3" Grid.RowSpan="2" Grid.Column="1" Source="{local:ImageResource RightToAskClient.Images.thumb_up_48.png}" 
                             BackgroundColor="Transparent" Command="{Binding UpvoteCommand}" IsVisible="{Binding AlreadyUpvoted}" Padding="5"
                             xct:IconTintColorEffect.TintColor="{StaticResource ButtonColor}" HorizontalOptions="Start" WidthRequest="50"/>
                <ImageButton Grid.Row="3" Grid.RowSpan="2" Grid.Column="2" Source="{local:ImageResource RightToAskClient.Images.share_48.png}" 
                             Padding="5" Command="{Binding ShareCommand}" BackgroundColor="Transparent"/>
                <ImageButton Grid.Row="3" Grid.RowSpan="2" Grid.Column="3" Source="{local:ImageResource RightToAskClient.Images.assured_workload_48.png}" 
                             Padding="5" BackgroundColor="Transparent"/>
                <!--Report/Flag Button-->
                <ImageButton Grid.Row="3" Grid.RowSpan="2" Grid.Column="4" Source="{local:ImageResource RightToAskClient.Images.flag_48.png}"
                             IsVisible="{Binding AlreadyReported, Converter={StaticResource Key=cnvInvert}}" Command="{Binding ReportCommand}" 
                             Padding="5" BackgroundColor="Transparent"/>
                <ImageButton Grid.Row="3" Grid.RowSpan="2" Grid.Column="4" Source="{local:ImageResource RightToAskClient.Images.flag_48.png}" 
                             Padding="5" xct:IconTintColorEffect.TintColor="{StaticResource AlertColor}" Command="{Binding ReportCommand}" 
                             IsVisible="{Binding AlreadyReported}" BackgroundColor="Transparent"/>
            </Grid>
        </Frame>
    </ContentView.Content>
</ContentView>